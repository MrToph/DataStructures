{"version":3,"sources":["webpack:///webpack/bootstrap a40af5455c5563cf6f97","webpack:///./src/js/app.jsx","webpack:///./src/js/ArrayMultiDim.jsx"],"names":[],"mappings":"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","file":"all.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a40af5455c5563cf6f97\n **/","import ArrayMultiDim, {ArrayMultiDimTests} from './ArrayMultiDim';\r\n// import MathContainer from './MathContainer';\r\n// import Stepper from './Stepper';\r\n\r\nlet tests = new ArrayMultiDimTests();\r\ntests.run();\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/app.jsx\n **/","export default class ArrayMultiDim {\r\n  constructor (sizes) {\r\n    if (!Array.isArray(sizes) || sizes.length < 1) throw new Error('not an array or array does not have any dimensions');\r\n    let size = sizes.reduce((acc, x) => acc * x, 1); // multiply all dimension sizes\r\n    this.sizes = sizes;\r\n    this.size = size;\r\n    this.arr = new Array(size);\r\n    this.precomputeAccessValues();\r\n  }\r\n\r\n  get (indices) {\r\n    return this.arr[this.layoutMap(indices)];\r\n  }\r\n\r\n  set (indices, value) {\r\n    this.arr[this.layoutMap(indices)] = value;\r\n  }\r\n\r\n  precomputeAccessValues () {\r\n    this.products = new Array(this.sizes.length).fill(1); // initialize with 1 everywhere\r\n    // last index does not need to be multiplied\r\n    for (let i = this.products.length - 2; i >= 0; i--) {\r\n      this.products[i] *= this.sizes[i + 1] * this.products[i + 1];\r\n    }\r\n  }\r\n\r\n  // row major, i.e. last dimension contiguous\r\n  layoutMap (indices) {\r\n    if (indices.length !== this.sizes.length) throw new Error('indices is of wrong length');\r\n    if (!indices.reduce((acc, val, index) => acc && val >= 0 && val < this.sizes[index], true)) throw new Error('some index is out of bounds');\r\n    return indices.reduce((acc, val, index) => acc + val * this.products[index], 0);\r\n  }\r\n};\r\n\r\nexport class ArrayMultiDimTests {\r\n  run () {\r\n    try {\r\n      let arr = new ArrayMultiDim([]);\r\n      console.log('Failed');\r\n    } catch (e) {\r\n      console.log('Passed. ' + e);\r\n    }\r\n\r\n    try {\r\n      let arr = new ArrayMultiDim('hello');\r\n      console.log('Failed');\r\n    } catch (e) {\r\n      console.log('Passed. ' + e);\r\n    }\r\n\r\n    try {\r\n      let arr = new ArrayMultiDim([5]);\r\n      arr.get([5]);\r\n      console.log('Failed');\r\n    } catch (e) {\r\n      console.log('Passed. ' + e);\r\n    }\r\n\r\n    try {\r\n      let arr = new ArrayMultiDim([3, 5, 4]);\r\n      arr.get([5]);\r\n      console.log('Failed');\r\n    } catch (e) {\r\n      console.log('Passed. ' + e);\r\n    }\r\n\r\n    let arr = new ArrayMultiDim([3, 5, 4]);\r\n    let c = 0;\r\n    for (let i = 0; i < arr.sizes[0]; i++) {\r\n      for (let j = 0; j < arr.sizes[1]; j++) {\r\n        for (let k = 0; k < arr.sizes[2]; k++) {\r\n          arr.set([i, j, k], c++);\r\n        }\r\n      }\r\n    }\r\n    console.log(arr.products);\r\n    console.log(arr.get([2,2,2]));\r\n  }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/ArrayMultiDim.jsx\n **/"],"sourceRoot":""}